<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chill Cabin – Breathing Guide</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="chillcabin-ui.css">
  <style>
    .breathing-circle {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: rgba(255,255,255,0.4);
      display:flex;
      align-items:center;
      justify-content:center;
      margin: 20px auto;
      font-size:24px;
      font-weight:700;
      color: var(--ink);
      transition: transform 4s ease-in-out;
    }
    .breathing-inhale {
      transform: scale(1.3);
    }
    .breathing-exhale {
      transform: scale(0.8);
    }
  </style>
</head>
<body>
  <video autoplay loop muted playsinline preload="auto" class="cc-bg-video">
    <source src="chillcabin-bg-video.mp4" type="video/mp4">
  </video>
  <div class="cc-corner-logo">Chill Cabin</div>
  <div class="cc-app">
    <div class="cc-topbar">
      <div class="cc-top-left">
        <span class="cc-dot"></span><span class="cc-dot"></span><span class="cc-dot"></span>
        <div class="cc-title"><img src="chillcabin-logo.png" alt="">Chill Cabin</div>
      </div>
      <div class="cc-top-right">
        <div class="cc-top-icons">◦ ◦ ◦</div>
        <a class="cc-profile" href="chillcabin-profile.html">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"></path>
            <path d="M6 18c0-3.31 2.69-6 6-6s6 2.69 6 6v3H6v-3z"></path>
          </svg>
          <span class="cc-profile-name" id="ccProfileName">Guest</span>
        </a>
      </div>
    </div>
    <div class="cc-body">
      <aside class="cc-left">
        <div class="cc-kicker">Breathing</div>
        <h1>Guided breathing</h1>
        <p>Slow down and centre yourself with this simple breathing exercise. Follow the animation or read the instructions to calm your mind and body.</p>
      </aside>
      <main class="cc-right">
        <div class="cc-panel" style="text-align:center;">
          <div class="breathing-circle" id="breathingCircle">Start</div>
          <p id="breathingInstruction">Press start to begin a 4‑4‑4 breathing cycle.</p>
          <button class="cc-btn primary" onclick="startBreathing()">Start</button>
          <button class="cc-btn" onclick="resetBreathing()">Reset</button>
          <div style="margin-top:24px; text-align:left;">
            <h2>How it works</h2>
            <ul>
              <li>Inhale gently through your nose for 4 seconds.</li>
              <li>Hold your breath for 4 seconds.</li>
              <li>Exhale slowly through your mouth for 4 seconds.</li>
              <li>Repeat as many times as you like. This 4‑4‑4 rhythm helps regulate breathing and reduce tension.</li>
            </ul>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    // Populate name
    document.addEventListener('DOMContentLoaded', function() {
      const profile = JSON.parse(localStorage.getItem('cc_userProfile') || '{}');
      const nameEl = document.getElementById('ccProfileName');
      if (nameEl) {
        nameEl.textContent = profile.firstName ? profile.firstName : 'Guest';
      }
    });
    let breathInterval;
    function startBreathing() {
      const circle = document.getElementById('breathingCircle');
      const instruction = document.getElementById('breathingInstruction');
      let phase = 0;
      clearInterval(breathInterval);
      // Start animation cycle
      breathInterval = setInterval(() => {
        phase = (phase + 1) % 3;
        if (phase === 0) {
          // Inhale
          circle.classList.remove('breathing-exhale');
          circle.classList.add('breathing-inhale');
          instruction.textContent = 'Inhale…';
        } else if (phase === 1) {
          // Hold
          circle.classList.remove('breathing-inhale');
          circle.classList.remove('breathing-exhale');
          instruction.textContent = 'Hold…';
        } else {
          // Exhale
          circle.classList.remove('breathing-inhale');
          circle.classList.add('breathing-exhale');
          instruction.textContent = 'Exhale…';
        }
      }, 4000);
    }
    function resetBreathing() {
      clearInterval(breathInterval);
      const circle = document.getElementById('breathingCircle');
      const instruction = document.getElementById('breathingInstruction');
      circle.classList.remove('breathing-inhale');
      circle.classList.remove('breathing-exhale');
      circle.textContent = 'Start';
      instruction.textContent = 'Press start to begin a 4‑4‑4 breathing cycle.';
    }
  </script>
</body>
</html>